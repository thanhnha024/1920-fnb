"use strict";function shin_test(){var e={settings:{range:{min:getCurrenDate()}},actions:{clickDay(e,t){console.log(t.selectedDates)}}};new VanillaCalendar("#calendar",e).init()}function getCurrenDate(){var e=new Date;return e.getFullYear()+`-${("0"+(e.getMonth()+1)).slice(-2)}-`+("0"+e.getDate()).slice(-2)}($=jQuery)(document).ready(function(){shin_test()}),function(){function r(e){return e[e.length-1]}function M(t,...e){return e.forEach(e=>{t.includes(e)||t.push(e)}),t}function O(e,t){return e?e.split(t):[]}function o(e,t,a){return(void 0===t||t<=e)&&(void 0===a||e<=a)}function B(e,t,a){return e<t?t:a<e?a:e}function l(e,t,s={},n=0,a=""){a+=`<${Object.keys(s).reduce((e,t)=>{let a=s[t];return`${e} ${t}="${a="function"==typeof a?a(n):a}"`},e)}></${e}>`;var i=n+1;return i<t?l(e,t,s,i,a):a}function e(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function n(e){return new Date(e).setHours(0,0,0,0)}function d(){return(new Date).setHours(0,0,0,0)}function S(...e){switch(e.length){case 0:return d();case 1:return n(e[0])}var t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function c(e,t){e=new Date(e);return e.setDate(e.getDate()+t)}function u(e,t){e=new Date(e),t=e.getMonth()+t;let a=t%12;a<0&&(a+=12);t=e.setMonth(t);return e.getMonth()!==a?e.setDate(0):t}function h(e,t){var e=new Date(e),a=e.getMonth(),t=e.setFullYear(e.getFullYear()+t);return 1===a&&2===e.getMonth()?e.setDate(0):t}function $(e,t){return(e-t+7)%7}function i(e,t,a=0){var s=new Date(e).getDay();return c(e,$(t,a)-$(s,a))}function V(e,t){return Math.round((e-t)/6048e5)+1}function I(e){e=i(e,4,1);return V(e,i(new Date(e).setMonth(0,4),4,1))}function W(e,t){var a=i(new Date(e).setMonth(0,1),t,t),s=i(e,t,t),a=V(s,a);return!(a<53)&&s===i(new Date(e).setDate(32),t,t)?1:a}function K(e){return W(e,0)}function P(e){return W(e,6)}function s(e,t){e=new Date(e).getFullYear();return Math.floor(e/t)*t}function k(e,t,a){return 1!==t&&2!==t?e:(e=new Date(e),1===t?a?e.setMonth(e.getMonth()+1,0):e.setDate(1):a?e.setFullYear(e.getFullYear()+1,0,0):e.setMonth(0,1),e.setHours(0,0,0,0))}const C=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,j=/[\s!-/:-@[-`{-~年月日]+/;let a={};const R={y:(e,t)=>new Date(e).setFullYear(parseInt(t,10)),m(t,e,a){const s=new Date(t);let n=parseInt(e,10)-1;if(isNaN(n)){if(!e)return NaN;const t=e.toLowerCase(),s=e=>e.toLowerCase().startsWith(t);if((n=(n=a.monthsShort.findIndex(s))<0?a.months.findIndex(s):n)<0)return NaN}return s.setMonth(n),s.getMonth()!==function e(t){return-1<t?t%12:e(t+12)}(n)?s.setDate(0):s.getTime()},d:(e,t)=>new Date(e).setDate(parseInt(t,10))},q={d:e=>e.getDate(),dd:e=>t(e.getDate(),2),D:(e,t)=>t.daysShort[e.getDay()],DD:(e,t)=>t.days[e.getDay()],m:e=>e.getMonth()+1,mm:e=>t(e.getMonth()+1,2),M:(e,t)=>t.monthsShort[e.getMonth()],MM:(e,t)=>t.months[e.getMonth()],y:e=>e.getFullYear(),yy:e=>t(e.getFullYear(),2).slice(-2),yyyy:e=>t(e.getFullYear(),4)};function t(e,t){return e.toString().padStart(t,"0")}function z(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in a)return a[e];const i=e.split(C),n=e.match(new RegExp(C,"g"));if(0===i.length||!n)throw new Error("Invalid date format.");const t=n.map(e=>q[e]),l=Object.keys(R).reduce((e,t)=>(n.find(e=>"D"!==e[0]&&e[0].toLowerCase()===t)&&e.push(t),e),[]);return a[e]={parser(e,a){const s=e.split(j).reduce((e,t,a)=>{return 0<t.length&&n[a]&&("M"===(a=n[a][0])?e.m=t:"D"!==a&&(e[a]=t)),e},{});return l.reduce((e,t)=>{t=R[t](e,s[t],a);return isNaN(t)?e:t},d())},formatter:(s,n)=>t.reduce((e,t,a)=>e+(""+i[a]+t(s,n)),"")+r(i)}}function x(e,t,a){if(e instanceof Date||"number"==typeof e){const t=n(e);return isNaN(t)?void 0:t}var s;if(e)return"today"===e?d():t&&t.toValue?(s=t.toValue(e,t,a),isNaN(s)?void 0:n(s)):z(t).parser(e,a)}function m(e,t,a){return isNaN(e)||!e&&0!==e?"":(e="number"==typeof e?new Date(e):e,t.toDisplay?t.toDisplay(e,t,a):z(t).formatter(e,a))}const U=document.createRange();function E(e){return U.createContextualFragment(e)}function J(e){return e.parentElement||(e.parentNode instanceof ShadowRoot?e.parentNode.host:void 0)}function g(e){return e.getRootNode().activeElement===e}function p(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function v(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function y(e){e.firstChild&&(e.removeChild(e.firstChild),y(e))}const f=new WeakMap,{addEventListener:G,removeEventListener:Z}=EventTarget.prototype;function w(e,t){let a=f.get(e);a||(a=[],f.set(e,a)),t.forEach(e=>{G.call(...e),a.push(e)})}function X(e){var t=f.get(e);t&&(t.forEach(e=>{Z.call(...e)}),f.delete(e))}if(!Event.prototype.composedPath){const r=(e,t=[])=>{let a;return t.push(e),e.parentNode?a=e.parentNode:e.host?a=e.host:e.defaultView&&(a=e.defaultView),a?r(a,t):t};Event.prototype.composedPath=function(){return r(this.target)}}function Q(e,t){var a="function"==typeof t?t:e=>e instanceof Element&&e.matches(t);return function e(t,a,s){var[t,...n]=t;return a(t)?t:t!==s&&"HTML"!==t.tagName&&0!==n.length?e(n,a,s):void 0}(e.composedPath(),a,e.currentTarget)}const b={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},L={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:T,format:ee,weekStart:te}=L;function ae(e,t){return e.length<6&&0<=t&&t<7?M(e,t):e}function se(e,t){switch(4===e?6===t?3:1+!t:e){case 1:return I;case 2:return K;case 3:return P}}function ne(e,t,a){return t.weekStart=e,t.weekEnd=(e+6)%7,4===a&&(t.getWeekNumber=se(4,e)),e}function ie(e,t,a,s){e=x(e,t,a);return void 0!==e?e:s}function N(e,t,a=3){e=parseInt(e,10);return 0<=e&&e<=a?e:t}function H(e,t,a,s=void 0){t in e&&(a in e||(e[a]=s?s(e[t]):e[t]),delete e[t])}function D(a,t){const s=Object.assign({},a),n={},i=t.constructor.locales,l=!!t.rangeSideIndex;let{datesDisabled:e,format:r,language:d,locale:o,maxDate:c,maxView:u,minDate:h,pickLevel:m,startView:g,weekNumbers:p,weekStart:v}=t.config||{};if(H(s,"calendarWeeks","weekNumbers",e=>e?1:0),H(s,"clearBtn","clearButton"),H(s,"todayBtn","todayButton"),H(s,"todayBtnMode","todayButtonMode"),s.language){let e;if(s.language!==d&&(i[s.language]?e=s.language:i[e=s.language.split("-")[0]]||(e=!1)),delete s.language,e){d=n.language=e;const M=o||i[T];o=Object.assign({format:ee,weekStart:te},i[T]),d!==T&&Object.assign(o,i[d]),n.locale=o,r===M.format&&(r=n.format=o.format),v===M.weekStart&&(v=ne(o.weekStart,n,p))}}if(s.format){const a="function"==typeof s.format.toDisplay,M="function"==typeof s.format.toValue,t=C.test(s.format);(a&&M||t)&&(r=n.format=s.format),delete s.format}let y=m,f=("pickLevel"in s&&(y=N(s.pickLevel,m,2),delete s.pickLevel),y!==m&&(y>m&&("minDate"in s||(s.minDate=h),"maxDate"in s||(s.maxDate=c)),e&&!s.datesDisabled&&(s.datesDisabled=[]),m=n.pickLevel=y),h),w=c;if("minDate"in s){const a=S(0,0,1);(f=null===s.minDate?a:ie(s.minDate,r,o,f))!==a&&(f=k(f,m,!1)),delete s.minDate}if("maxDate"in s&&(void 0!==(w=null===s.maxDate?void 0:ie(s.maxDate,r,o,w))&&(w=k(w,m,!0)),delete s.maxDate),w<f?(h=n.minDate=w,c=n.maxDate=f):(h!==f&&(h=n.minDate=f),c!==w&&(c=n.maxDate=w)),s.datesDisabled){const a=s.datesDisabled;if("function"==typeof a)n.datesDisabled=null,n.checkDisabled=(e,t)=>a(new Date(e),t,l);else{const t=n.datesDisabled=a.reduce((e,t)=>{t=x(t,r,o);return void 0!==t?M(e,k(t,m,l)):e},[]);n.checkDisabled=e=>t.includes(e)}delete s.datesDisabled}if("defaultViewDate"in s){const a=x(s.defaultViewDate,r,o);void 0!==a&&(n.defaultViewDate=a),delete s.defaultViewDate}if("weekStart"in s){const a=Number(s.weekStart)%7;isNaN(a)||(v=ne(a,n,p)),delete s.weekStart}if(s.daysOfWeekDisabled&&(n.daysOfWeekDisabled=s.daysOfWeekDisabled.reduce(ae,[]),delete s.daysOfWeekDisabled),s.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=s.daysOfWeekHighlighted.reduce(ae,[]),delete s.daysOfWeekHighlighted),"weekNumbers"in s){let a=s.weekNumbers;if(a){const M="function"==typeof a?(e,t)=>a(new Date(e),t):se(a=parseInt(a,10),v);M&&(p=n.weekNumbers=a,n.getWeekNumber=M)}else p=n.weekNumbers=0,n.getWeekNumber=null;delete s.weekNumbers}if("maxNumberOfDates"in s){const a=parseInt(s.maxNumberOfDates,10);0<=a&&(n.maxNumberOfDates=a,n.multidate=1!==a),delete s.maxNumberOfDates}s.dateDelimiter&&(n.dateDelimiter=String(s.dateDelimiter),delete s.dateDelimiter);let b=u,D=("maxView"in s&&(b=N(s.maxView,u),delete s.maxView),(b=m>b?m:b)!==u&&(u=n.maxView=b),g);if("startView"in s&&(D=N(s.startView,D),delete s.startView),D<m?D=m:D>u&&(D=u),D!==g&&(n.startView=D),s.prevArrow){const a=E(s.prevArrow);0<a.childNodes.length&&(n.prevArrow=a.childNodes),delete s.prevArrow}if(s.nextArrow){const a=E(s.nextArrow);0<a.childNodes.length&&(n.nextArrow=a.childNodes),delete s.nextArrow}if("disableTouchKeyboard"in s&&(n.disableTouchKeyboard="ontouchstart"in document&&!!s.disableTouchKeyboard,delete s.disableTouchKeyboard),s.orientation){const a=s.orientation.toLowerCase().split(/\s+/g);n.orientation={x:a.find(e=>"left"===e||"right"===e)||"auto",y:a.find(e=>"top"===e||"bottom"===e)||"auto"},delete s.orientation}if("todayButtonMode"in s){switch(s.todayButtonMode){case 0:case 1:n.todayButtonMode=s.todayButtonMode}delete s.todayButtonMode}return Object.entries(s).forEach(([e,t])=>{void 0!==t&&e in L&&(n[e]=t)}),n}const le={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}},re=e=>e.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),de=e(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${re(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${re(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),oe=e(`<div class="days">
  <div class="days-of-week">${l("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${l("span",42)}</div>
</div>`),ce=e(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${l("span",6,{class:"week"})}</div>
</div>`);class ue{constructor(e,t){Object.assign(this,t,{picker:e,element:E('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,a){this.disabled=[];var s=this.picker;s.setViewSwitchLabel(e),s.setPrevButtonDisabled(t),s.setNextButtonDisabled(a)}setDisabled(e,t){t.add("disabled"),M(this.disabled,e)}performBeforeHook(e,t){let a=this.beforeShow(new Date(t));switch(typeof a){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){var s=e.classList;if(!1===a.enabled&&this.setDisabled(t,s),a.classes){const e=a.classes.split(/\s+/);s.add(...e),e.includes("disabled")&&this.setDisabled(t,s)}a.content&&(n=e,t=a.content,y(n),t instanceof DocumentFragment?n.appendChild(t):"string"==typeof t?n.appendChild(E(t)):"function"==typeof t.forEach&&t.forEach(e=>{n.appendChild(e)}))}var n}renderCell(e,t,a,s,{selected:n,range:i},l,r=[]){e.textContent=t,this.isMinView&&(e.dataset.date=s);var d=e.classList;if(e.className="datepicker-cell "+this.cellClass,a<this.first?d.add("prev"):a>this.last&&d.add("next"),d.add(...r),(l||this.checkDisabled(s,this.id))&&this.setDisabled(s,d),i){const[e,t]=i;a>e&&a<t&&d.add("range"),a===e&&d.add("range-start"),a===t&&d.add("range-end")}n.includes(a)&&d.add("selected"),a===this.focused&&d.add("focused"),this.beforeShow&&this.performBeforeHook(e,s)}refreshCell(e,t,a,[s,n]){e=e.classList;e.remove("range","range-start","range-end","selected","focused"),s<t&&t<n&&e.add("range"),t===s&&e.add("range-start"),t===n&&e.add("range-end"),a.includes(t)&&e.add("selected"),t===this.focused&&e.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class he extends ue{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const e=E(oe).firstChild;this.dow=e.firstChild,this.grid=e.lastChild,this.element.appendChild(e)}super.init(e)}setOptions(e){let t;var a;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale&&(a=this.locale=e.locale,this.dayNames=a.daysMin,this.switchLabelFormat=a.titleFormat,t=!0),"beforeShowDay"in e&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const e=E(ce).firstChild;this.weekNumbers={element:e,dow:e.firstChild,weeks:e.lastChild},this.element.insertBefore(e,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(v(this.dow),this.weekNumbers&&v(this.weekNumbers.dow)):(p(this.dow),this.weekNumbers&&p(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((e,t)=>{t=(this.weekStart+t)%7;e.textContent=this.dayNames[t],e.className=this.daysOfWeekDisabled.includes(t)?"dow disabled":"dow"})}updateFocus(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),e=e.getMonth(),a=S(t,e,1),s=i(a,this.weekStart,this.weekStart);this.first=a,this.last=S(t,e+1,0),this.start=s,this.focused=this.picker.viewDate}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?d():void 0,this.prepareForRender(m(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const s=this.weekStart,n=i(this.first,s,s);Array.from(this.weekNumbers.weeks.children).forEach((e,t)=>{var a=c(n,7*t);e.textContent=this.getWeekNumber(a,s),3<t&&e.classList[a>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,t)=>{var t=c(this.start,t),a=new Date(t),s=a.getDay(),n=[];this.today===t&&n.push("today"),this.daysOfWeekHighlighted.includes(s)&&n.push("highlighted"),this.renderCell(e,a.getDate(),t,t,this,t<this.minDate||t>this.maxDate||this.daysOfWeekDisabled.includes(s),n)})}refresh(){const t=this.range||[];Array.from(this.grid.children).forEach(e=>{this.refreshCell(e,Number(e.dataset.date),this.selected,t)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function me(e,t){var a,s,n;if(e&&e[0]&&e[1])return[[e,a],[s,n]]=e,t<e||s<t?void 0:[e===t?a:-1,s===t?n:12]}class ge extends ue{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(E(l("span",12,{"data-month":e=>e}))),this.first=0,this.last=11),super.init(e)}setOptions(e){var t;e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e&&(void 0===e.minDate?this.minYear=this.minMonth=this.minDate=void 0:(t=new Date(e.minDate),this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1))),"maxDate"in e&&(void 0===e.maxDate?this.maxYear=this.maxMonth=this.maxDate=void 0:(t=new Date(e.maxDate),this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=S(this.maxYear,this.maxMonth+1,0))),e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>{var t=new Date(t),a=t.getFullYear(),t=t.getMonth();return void 0===e[a]?e[a]=[t]:M(e[a],t),e},{}),t&&t.dates&&(this.range=t.dates.map(e=>{e=new Date(e);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const s=this.selected[this.year]||[],n=this.year<this.minYear||this.year>this.maxYear,i=this.year===this.minYear,l=this.year===this.maxYear,r=me(this.range,this.year);Array.from(this.grid.children).forEach((e,t)=>{var a=k(new Date(this.year,t,1),1,this.isRangeEnd);this.renderCell(e,this.monthNames[t],t,a,{selected:s,range:r},n||i&&t<this.minMonth||l&&t>this.maxMonth)})}refresh(){const a=this.selected[this.year]||[],s=me(this.range,this.year)||[];Array.from(this.grid.children).forEach((e,t)=>{this.refreshCell(e,t,a,s)})}refreshFocus(){this.changeFocusedCell(this.focused)}}class pe extends ue{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow"+[...this.cellClass].reduce((e,t,a)=>e+(a?t:t.toUpperCase()),""),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(E(l("span",12)))),super.init(e)}setOptions(e){"minDate"in e&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=s(e.minDate,this.step),this.minDate=S(this.minYear,0,1))),"maxDate"in e&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=s(e.maxDate,this.step),this.maxDate=S(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:()=>!1),this.beforeShowOption in e&&(e=e[this.beforeShowOption],this.beforeShow="function"==typeof e?e:void 0)}updateFocus(){var e=new Date(this.picker.viewDate),t=s(e,this.navStep),a=t+9*this.step;this.first=t,this.last=a,this.start=t-this.step,this.focused=s(e,this.step)}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>M(e,s(t,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(e=>{if(void 0!==e)return s(e,this.step)}))}render(){this.prepareForRender(this.first+"-"+this.last,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{var t=this.start+t*this.step,a=k(new Date(t,0,1),2,this.isRangeEnd);e.dataset.year=t,this.renderCell(e,t,t,a,this,t<this.minYear||t>this.maxYear)})}refresh(){const t=this.range||[];Array.from(this.grid.children).forEach(e=>{this.refreshCell(e,Number(e.textContent),this.selected,t)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Y(e,t){var a={bubbles:!0,cancelable:!0,detail:{date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e}};e.element.dispatchEvent(new CustomEvent(t,a))}function _(e,t){var{config:e,picker:a}=e,{currentView:s,viewDate:n}=a;let i;switch(s.id){case 0:i=u(n,t);break;case 1:i=h(n,t);break;default:i=h(n,t*s.navStep)}i=B(i,e.minDate,e.maxDate),a.changeFocus(i).render()}function ve(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function ye(e){e.setDate({clear:!0})}function fe(e){var t=d();1===e.config.todayButtonMode?e.setDate(t,{forceRefresh:!0,viewDate:t}):e.setFocusedDate(t,!0)}function we(e){var t=()=>{e.config.updateOnBlur?e.update({revert:!0}):e.refresh("input"),e.hide()},a=e.element;g(a)?a.addEventListener("blur",t,{once:!0}):t()}function be(e,t){var a,s,t=Q(t,".datepicker-cell");t&&!t.classList.contains("disabled")&&({id:s,isMinView:a}=e.picker.currentView,t=t.dataset,a?e.setDate(Number(t.date)):(a=e,e=Number(1===s?t.month:t.year),a=a.picker,s=new Date(a.viewDate),t=a.currentView.id,e=1===t?u(s,e-s.getMonth()):h(s,e-s.getFullYear()),a.changeFocus(e).changeView(t-1).render()))}function De(e){e.preventDefault()}const Me=["left","top","right","bottom"].reduce((e,t)=>(e[t]="datepicker-orient-"+t,e),{}),Se=e=>e&&e+"px";function ke(e,t){if("title"in t&&(t.title?(e.controls.title.textContent=t.title,v):(e.controls.title.textContent="",p))(e.controls.title),t.prevArrow){const a=e.controls.prevButton;y(a),t.prevArrow.forEach(e=>{a.appendChild(e.cloneNode(!0))})}if(t.nextArrow){const s=e.controls.nextButton;y(s),t.nextArrow.forEach(e=>{s.appendChild(e.cloneNode(!0))})}if(t.locale&&(e.controls.todayButton.textContent=t.locale.today,e.controls.clearButton.textContent=t.locale.clear),"todayButton"in t&&(t.todayButton?v:p)(e.controls.todayButton),"minDate"in t||"maxDate"in t){const{minDate:t,maxDate:n}=e.datepicker.config;e.controls.todayButton.disabled=!o(d(),t,n)}"clearButton"in t&&(t.clearButton?v:p)(e.controls.clearButton)}function Ce(e){var{dates:e,config:t,rangeSideIndex:a}=e;return B(0<e.length?r(e):k(t.defaultViewDate,t.pickLevel,a),t.minDate,t.maxDate)}function xe(e,t){"_oldViewDate"in e||t===e.viewDate||(e._oldViewDate=e.viewDate),e.viewDate=t;var{id:e,year:a,first:s,last:n}=e.currentView,i=new Date(t).getFullYear();switch(e){case 0:return t<s||n<t;case 1:return i!==a;default:return i<s||n<i}}function Ee(e){return window.getComputedStyle(e).direction}class Le{constructor(e){var{config:t,inputField:a}=this.datepicker=e,s=de.replace(/%buttonClass%/g,t.buttonClass),s=this.element=E(s).firstChild,[n,i,l]=s.firstChild.children,r=n.firstElementChild,[n,d,o]=n.lastElementChild.children,[l,c]=l.firstChild.children,r={title:r,prevButton:n,viewSwitch:d,nextButton:o,todayButton:l,clearButton:c},n=(this.main=i,this.controls=r,a?"dropdown":"inline");s.classList.add("datepicker-"+n),ke(this,t),this.viewDate=Ce(e),w(e,[[s,"mousedown",De],[i,"click",be.bind(null,e)],[r.viewSwitch,"click",function(e){ve(e)}.bind(null,e)],[r.prevButton,"click",function(e){_(e,-1)}.bind(null,e)],[r.nextButton,"click",function(e){_(e,1)}.bind(null,e)],[r.todayButton,"click",fe.bind(null,e)],[r.clearButton,"click",ye.bind(null,e)]]),this.views=[new he(this),new ge(this),new pe(this,{id:2,name:"years",cellClass:"year",step:1}),new pe(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):a.after(this.element)}setOptions(t){ke(this,t),this.views.forEach(e=>{e.init(t,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){var e,t,a,s;this.active||({datepicker:e,element:t}=this,(a=e.inputField)?((s=Ee(a))!==Ee(J(t))?t.dir=s:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&a.blur()):t.classList.add("active"),this.active=!0,Y(e,"show"))}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Y(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element;t.display="block";var{width:a,height:s}=this.element.getBoundingClientRect(),n=this.element.offsetParent,{config:i,inputField:l}=(t.display="",this.datepicker),{left:r,top:d,right:o,bottom:c,width:u,height:h}=l.getBoundingClientRect();let{x:m,y:g}=i.orientation,p=r,v=d;if(n!==document.body&&n){const e=n.getBoundingClientRect();p-=e.left-n.scrollLeft,v-=e.top-n.scrollTop}else p+=window.scrollX,v+=window.scrollY;i=function e(t){t=J(t);if(t!==document.body&&t)return"visible"!==window.getComputedStyle(t).overflow?t:e(t)}(l);let y=0,f=0,{clientWidth:w,clientHeight:b}=document.documentElement;if(i){const e=i.getBoundingClientRect();0<e.top&&(f=e.top),0<e.left&&(y=e.left),e.right<w&&(w=e.right),e.bottom<b&&(b=e.bottom)}let D=0;"auto"===m&&(r<y?(m="left",D=y-r):r+a>w?(m="right",w<o&&(D=w-o)):m="rtl"!==Ee(l)||o-a<y?"left":"right"),"right"===m&&(p+=u-a),p+=D,"top"===(g="auto"===g?d-s>f&&c+s>b?"top":"bottom":g)?v-=s:v+=h,e.remove(...Object.values(Me)),e.add(Me[m],Me[g]),t.left=Se(p),t.top=Se(v)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){var t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=xe(this,e)?"render":"refreshFocus",this.views.forEach(e=>{e.updateFocus()}),this}update(e=void 0){e=void 0===e?Ce(this.datepicker):e;return this._renderMethod=xe(this,e)?"render":"refresh",this.views.forEach(e=>{e.updateFocus(),e.updateSelection()}),this}render(e=!0){var{currentView:t,datepicker:a,_oldView:s}=this,n=new Date(this._oldViewDate),e=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[e](),s&&(this.main.replaceChild(t.element,s.element),Y(a,"changeView")),!isNaN(n)){const e=new Date(this.viewDate);e.getFullYear()!==n.getFullYear()&&Y(a,"changeYear"),e.getMonth()!==n.getMonth()&&Y(a,"changeMonth")}}}function Te(e,t,a){const s=e.picker,n=s.currentView,i=n.step||1;let l,r=s.viewDate;switch(n.id){case 0:r=c(r,a?7*t:t),l=c;break;case 1:r=u(r,a?4*t:t),l=u;break;default:r=h(r,t*(a?4:1)*i),l=h}void 0!==(r=function e(t,a,s,n,i,l){if(o(t,i,l))return n(t)?e(a(t,s),a,s,n,i,l):t}(r,l,t<0?-i:i,e=>n.disabled.includes(e),n.minDate,n.maxDate))&&s.changeFocus(r).render()}function Ne(e,t){return e.map(e=>m(e,t.format,t.locale)).join(t.dateDelimiter)}function He(e,t,a=!1){if(0===t.length)return a?[]:void 0;const{config:s,dates:n,rangeSideIndex:i}=e,{pickLevel:l,maxNumberOfDates:r}=s;let d=t.reduce((e,t)=>{t=x(t,s.format,s.locale);return void 0===t||!o(t=k(t,l,i),s.minDate,s.maxDate)||e.includes(t)||s.checkDisabled(t,l)||!(0<l)&&s.daysOfWeekDisabled.includes(new Date(t).getDay())||e.push(t),e},[]);return 0!==d.length?(s.multidate&&!a&&(d=d.reduce((e,t)=>(n.includes(t)||e.push(t),e),n.filter(e=>!d.includes(e)))),r&&d.length>r?d.slice(-1*r):d):void 0}function F(e,t=3,a=!0,s=void 0){var{config:n,picker:i,inputField:l}=e;if(2&t){const e=i.active?n.pickLevel:n.startView;i.update(s).changeView(e).render(a)}1&t&&l&&(l.value=Ne(e.dates,n))}function Ye(e,t,a){var s=e.config;let{clear:n,render:i,autohide:l,revert:r,forceRefresh:d,viewDate:o}=a;(i=void 0===i?!0:i)?void 0===l&&(l=s.autohide):l=d=!1,o=x(o,s.format,s.locale);a=He(e,t,n);(a||r)&&(a&&a.toString()!==e.dates.toString()?(e.dates=a,F(e,i?3:1,!0,o),Y(e,"changeDate")):F(e,d?3:1,!0,o),l)&&e.hide()}function _e(t,a){return a?e=>m(e,a,t.config.locale):e=>new Date(e)}class Fe{constructor(e,t={},a=void 0){(e.datepicker=this).element=e,this.dates=[];var i,s=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:d(),maxDate:void 0,minDate:void 0},D(L,this));let n;if("INPUT"===e.tagName?((n=this.inputField=e).classList.add("datepicker-input"),t.container&&(s.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):s.container=e,a){const e=a.inputs.indexOf(n),t=a.datepickers;if(e<0||1<e||!Array.isArray(t))throw Error("Invalid rangepicker object.");(t[e]=this).rangepicker=a,this.rangeSideIndex=e}this._options=t,Object.assign(s,D(t,this)),s.shortcutKeys=(i=t.shortcutKeys||{},Object.keys(le).reduce((e,t)=>{var a,s=(void 0===i[t]?le:i)[t],n=s&&s.key;return n&&"string"==typeof n&&(a={key:n,ctrlOrMetaKey:!!(s.ctrlOrMetaKey||s.ctrlKey||s.metaKey)},1<n.length&&(a.altKey=!!s.altKey,a.shiftKey=!!s.shiftKey),e[t]=a),e},{}));a=O(e.value||e.dataset.date,s.dateDelimiter),delete e.dataset.date,t=He(this,a),t&&0<t.length&&(this.dates=t),n&&(n.value=Ne(this.dates,s)),a=this.picker=new Le(this),t=[e,"keydown",function(a,s){const{config:t,picker:e,editMode:n}=a,i=e.active,{key:l,altKey:r,shiftKey:d}=s,o=s.ctrlKey||s.metaKey,c=()=>{s.preventDefault(),s.stopPropagation()};if("Tab"===l)we(a);else if("Enter"===l)if(i)if(n)a.exitEditMode({update:!0,autohide:t.autohide});else{const s=e.currentView;s.isMinView?a.setDate(e.viewDate):(e.changeView(s.id-1).render(),c())}else a.update();else{const h=t.shortcutKeys,m={key:l,ctrlOrMetaKey:o,altKey:r,shiftKey:d},g=Object.keys(h).find(e=>{const t=h[e];return!Object.keys(t).find(e=>t[e]!==m[e])});if(g){let e;if("toggle"===g?e=g:n?"exitEditMode"===g&&(e=g):i?"hide"===g?e=g:"prevButton"===g?e=[_,[a,-1]]:"nextButton"===g?e=[_,[a,1]]:"viewSwitch"===g?e=[ve,[a]]:t.clearButton&&"clearButton"===g?e=[ye,[a]]:t.todayButton&&"todayButton"===g&&(e=[fe,[a]]):"show"===g&&(e=g),e)return Array.isArray(e)?e[0].apply(null,e[1]):a[e](),void c()}var u;i&&!n&&(u=(e,t)=>{d||o||r?a.enterEditMode():(Te(a,e,t),s.preventDefault())},"ArrowLeft"===l?u(-1,!1):"ArrowRight"===l?u(1,!1):"ArrowUp"===l?u(-1,!0):"ArrowDown"===l?u(1,!0):("Backspace"===l||"Delete"===l||l&&1===l.length&&!o)&&a.enterEditMode())}}.bind(null,this)];n?w(this,[t,[n,"focus",function(e){e.config.showOnFocus&&!e._showing&&e.show()}.bind(null,this)],[n,"mousedown",function(e,t){const a=t.target;(e.picker.active||e.config.showOnClick)&&(a._active=g(a),a._clicking=setTimeout(()=>{delete a._active,delete a._clicking},2e3))}.bind(null,this)],[n,"click",function(e,t){(t=t.target)._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&e.enterEditMode(),delete t._active,e.config.showOnClick)&&e.show()}.bind(null,this)],[n,"paste",function(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}.bind(null,this)],[document,"mousedown",function(e,t){const{element:a,picker:s}=e;if(s.active||g(a)){const n=s.element;Q(t,e=>e===a||e===n)||we(e)}}.bind(null,this)],[window,"resize",a.place.bind(a)]]):(w(this,[t]),this.show())}static formatDate(e,t,a){return m(e,t,a&&b[a]||b.en)}static parseDate(e,t,a){return x(e,t,a&&b[a]||b.en)}static get locales(){return b}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){var t=D(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),F(this,3)}show(){if(this.inputField){var{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;g(t)||e.disableTouchKeyboard||(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),X(this),this.picker.detach();var e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){e=_e(this,e);return this.config.multidate?this.dates.map(e):0<this.dates.length?e(this.dates[0]):void 0}setDate(...e){var t=[...e],a={},e=r(e);!e||"object"!=typeof e||Array.isArray(e)||e instanceof Date||Object.assign(a,t.pop()),Ye(this,Array.isArray(t[0])?t[0]:t,a)}update(e=void 0){this.inputField&&(e=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),Ye(this,O(this.inputField.value,this.config.dateDelimiter),e))}getFocusedDate(e=void 0){return _e(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){var{config:a,picker:s,active:n,rangeSideIndex:i}=this,l=a.pickLevel,e=x(e,a.format,a.locale);void 0!==e&&(s.changeFocus(k(e,l,i)),n&&t&&s.changeView(l),s.render())}refresh(e=void 0,t=!1){e&&"string"!=typeof e&&(t=e,e=void 0),F(this,"picker"===e?2:"input"===e?1:3,!t)}enterEditMode(){var e=this.inputField;e&&!e.readOnly&&this.picker.active&&!this.editMode&&(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){this.inputField&&this.editMode&&(e=Object.assign({update:!1},e),delete this.editMode,this.inputField.classList.remove("in-edit"),e.update)&&this.update(e)}}function Ae(e){e=Object.assign({},e);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function A(e,t){var a,s,n,i,l,r,d;e._updating||(e._updating=!0,void 0!==(t=t.target).datepicker&&([s,n]=a=e.datepickers,i={render:!1},r=a[t=e.inputs.indexOf(t)].dates[0],d=a[l=0===t?1:0].dates[0],void 0!==r&&void 0!==d?0===t&&d<r?(s.setDate(d,i),n.setDate(r,i)):1===t&&r<d&&(s.setDate(r,i),n.setDate(d,i)):e.allowOneSidedRange||void 0===r&&void 0===d||(i.clear=!0,a[l].setDate(a[t].dates,i)),a.forEach(e=>{e.picker.update().render()}),delete e._updating))}window.Datepicker=Fe,window.DateRangePicker=class{constructor(e,t={}){let a=Array.isArray(t.inputs)?t.inputs:Array.from(e.querySelectorAll("input"));if(!(a.length<2)){(e.rangepicker=this).element=e,this.inputs=a=a.slice(0,2),Object.freeze(a),this.allowOneSidedRange=!!t.allowOneSidedRange;const n=A.bind(null,this),i=Ae(t),s=this.datepickers=[];a.forEach(e=>{var t,a,s;t=this,a=n,e=e,s=i,w(t,[[e,"changeDate",a]]),new Fe(e,s,t)}),Object.freeze(s),Object.defineProperty(this,"dates",{get:()=>s.map(e=>e.dates[0])}),0<s[0].dates.length?A(this,{target:a[0]}):0<s[1].dates.length&&A(this,{target:a[1]})}}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const t=Ae(e);this.datepickers.forEach(e=>{e.setOptions(t)})}destroy(){this.datepickers.forEach(e=>{e.destroy()}),X(this),delete this.element.rangepicker}getDates(t=void 0){const a=t?e=>m(e,t,this.datepickers[0].config.locale):e=>new Date(e);return this.dates.map(e=>void 0===e?e:a(e))}setDates(e,t){var{datepickers:[a,s],inputs:[n,i],dates:[l,r]}=this;this._updating=!0,a.setDate(e),s.setDate(t),delete this._updating,s.dates[0]!==r?A(this,{target:i}):a.dates[0]!==l&&A(this,{target:n})}}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VanillaCalendar=t()}(this,function(){var A=Object.defineProperty,s=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,n=(e,t,a)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,r=(e,t)=>{for(var a in t=t||{})O.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))B.call(t,a)&&n(e,a,t[a]);return e},a=(e,t,a)=>(n(e,"symbol"!=typeof t?t+"":t,a),a);const t={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};const $=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-`+String(e.getDate()).padStart(2,"0"),V=e=>new Date(e+"T00:00:00"),d=e=>e.reduce((i,e)=>(e.match(/^(\d{4}-\d{2}-\d{2})$/g)?i.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(e,t,a)=>{for(var t=V(t),s=V(a),n=new Date(t.getTime());n<=s;n.setDate(n.getDate()+1))i.push($(n));return e}),i),[]),o=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",l='The calendar has not been initialized, please initialize it using the "init()" method first.',c=e=>{e.currentType=e.type,s=void 0!==(a=e).settings.selected.month&&0<=Number(a.settings.selected.month)&&Number(a.settings.selected.month)<12,n=void 0!==a.settings.selected.year&&0<=Number(a.settings.selected.year)&&Number(a.settings.selected.year)<=9999,a.selectedMonth=s?Number(a.settings.selected.month):a.date.today.getMonth(),a.selectedYear=n?Number(a.settings.selected.year):a.date.today.getFullYear(),a.viewYear=a.selectedYear,(t=e).settings.range.min=(V(t.date.min)>=V(t.settings.range.min)?t.date:t.settings.range).min,t.settings.range.max=(V(t.date.max)<=V(t.settings.range.max)?t.date:t.settings.range).max,s=t.settings.range.disablePast&&!t.settings.range.disableAllDays&&V(t.settings.range.min)<t.date.today,t.rangeMin=s||t.settings.range.disableAllDays?$(t.date.today):t.settings.range.min,t.rangeMax=t.settings.range.disableAllDays?$(t.date.today):t.settings.range.max,t.rangeDisabled=t.settings.range.disabled&&!t.settings.range.disableAllDays?d(t.settings.range.disabled):t.settings.range.disableAllDays?[t.rangeMin]:[],1<t.rangeDisabled.length&&t.rangeDisabled.sort((e,t)=>+new Date(e)-+new Date(t)),t.rangeEnabled=t.settings.range.enabled?d(t.settings.range.enabled):[],null!=(s=t.rangeEnabled)&&s[0]&&null!=(s=t.rangeDisabled)&&s[0]&&(t.rangeDisabled=t.rangeDisabled.filter(e=>!t.rangeEnabled.includes(e))),1<t.rangeEnabled.length&&t.rangeEnabled.sort((e,t)=>+new Date(e)-+new Date(t)),null!=(s=t.rangeEnabled)&&s[0]&&t.settings.range.disableAllDays&&(t.rangeMin=t.rangeEnabled[0],t.rangeMax=t.rangeEnabled[t.rangeEnabled.length-1]),(n=e).selectedDates=null!=(a=n.settings.selected.dates)&&a[0]?d(n.settings.selected.dates):[],n.selectedHolidays=null!=(a=n.settings.selected.holidays)&&a[0]?d(n.settings.selected.holidays):[],(s=e).dateMin=s.settings.visibility.disabled?V(s.date.min):V(s.rangeMin),s.dateMax=s.settings.visibility.disabled?V(s.date.max):V(s.rangeMax);{var i=e;const l=!0===i.settings.selection.time||12===i.settings.selection.time;if(l||24===i.settings.selection.time){let n=!1;"string"==typeof i.settings.selected.time&&(a=l?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g,i.settings.selected.time.replace(a,(e,t,a,s)=>(t&&a&&(n=!0,i.selectedHours=t,i.selectedMinutes=a),s&&l?i.selectedKeeping=s:l&&(i.selectedKeeping="AM"),""))),!n&&l?(i.selectedHours=o(String(i.date.today.getHours())),i.selectedMinutes=String(i.date.today.getMinutes()),i.selectedKeeping=12<=Number(i.date.today.getHours())?"PM":"AM"):n||(i.selectedHours=String(i.date.today.getHours()),i.selectedMinutes=String(i.date.today.getMinutes())),i.selectedHours=Number(i.selectedHours)<10?"0"+Number(i.selectedHours):""+i.selectedHours,i.selectedMinutes=Number(i.selectedMinutes)<10?"0"+Number(i.selectedMinutes):""+i.selectedMinutes,i.selectedTime=i.selectedHours+":"+i.selectedMinutes+(i.selectedKeeping?" "+i.selectedKeeping:"")}else if(i.settings.selection.time)throw new Error("The value of the time property can be: false, true, 12 or 24.")}var t,a,s,n;(n=e).correctMonths="multiple"===n.type?1===n.months?2:12<n.months?12:n.months:1},u=({arrowPrev:e,arrowNext:t,isPrevHidden:a,isNextHidden:s})=>{e.style.visibility=a?"hidden":"",t.style.visibility=s?"hidden":""},w=s=>{var e;if("month"!==s.currentType){const n=null==(e=s.HTMLElement)?void 0:e.querySelector("."+s.CSSClasses.arrowPrev),i=null==(e=s.HTMLElement)?void 0:e.querySelector("."+s.CSSClasses.arrowNext);n&&i&&{default:()=>{var e=V($(new Date(s.selectedYear,s.selectedMonth,1))),t=new Date(e.getTime()),a=new Date(e.getTime()),e=(t.setMonth(t.getMonth()-s.jumpMonths),a.setMonth(a.getMonth()+s.jumpMonths),s.settings.selection.year||(s.dateMin.setFullYear(e.getFullYear()),s.dateMax.setFullYear(e.getFullYear())),!s.settings.selection.month||t.getFullYear()<s.dateMin.getFullYear()||t.getFullYear()===s.dateMin.getFullYear()&&t.getMonth()<s.dateMin.getMonth()),t=!s.settings.selection.month||a.getFullYear()>s.dateMax.getFullYear()||a.getFullYear()===s.dateMax.getFullYear()&&a.getMonth()>s.dateMax.getMonth();u({arrowPrev:n,arrowNext:i,isPrevHidden:e,isNextHidden:t})},year:()=>{u({arrowPrev:n,arrowNext:i,isPrevHidden:s.dateMin.getFullYear()&&s.viewYear-7<=s.dateMin.getFullYear(),isNextHidden:s.dateMax.getFullYear()&&s.viewYear+7>=s.dateMax.getFullYear()})}}["multiple"===s.currentType?"default":s.currentType]()}},g=(e,t)=>{return e?(e=V(e),t=t?e.getDay()||7:e.getDay(),e.setDate(e.getDate()+4-t),t=new Date(e.getFullYear(),0,1),t=Math.ceil(((+e-+t)/864e5+1)/7),{year:e.getFullYear(),week:t}):null},W=(e,t,a,s,n)=>{var t=t[a].querySelector("."+e.CSSClasses.dayBtn),a=g(null==t?void 0:t.dataset.calendarDay,e.settings.iso8601);a&&((t=s.cloneNode(!0)).innerText=String(a.week),t.dataset.calendarYearWeek=String(a.year),n.append(t))},I=(e,t,a,s,n,i,l,r)=>{var d,o,c,u,h=document.createElement("div");h.className=e.CSSClasses.day;const m=document.createElement("button");m.className=e.CSSClasses.dayBtn+(r?" "+r:""),m.type="button",m.innerText=String(s),m.dataset.calendarDay=i,e.settings.visibility.weekNumbers&&(r=g(i,e.settings.iso8601))&&(m.dataset.calendarWeekNumber=String(r.week)),l&&!e.settings.visibility.daysOutside||h.append(m),r=i,c=null==(c=(o=e).settings.range.disableWeekday)?void 0:c.includes(n),u=o.settings.range.disableAllDays&&!(null==(u=o.rangeEnabled)||!u[0]),!c&&!u||null!=(c=o.rangeEnabled)&&c.includes(r)||null!=(u=o.rangeDisabled)&&u.includes(r)||(o.rangeDisabled.push(r),null==(c=o.rangeDisabled))||c.sort((e,t)=>+new Date(e)-+new Date(t)),u=e,r=t,o=h,c=m,t=n,n=i,l=l,(V(u.rangeMin)>V(n)||V(u.rangeMax)<V(n)||null!=(d=u.rangeDisabled)&&d.includes(n)||!u.settings.selection.month&&l||!u.settings.selection.year&&V(n).getFullYear()!==r)&&(c.classList.add(u.CSSClasses.dayBtnDisabled),c.tabIndex=-1),u.settings.visibility.today&&$(u.date.today)===n&&c.classList.add(u.CSSClasses.dayBtnToday),!u.settings.visibility.weekend||0!==t&&6!==t||c.classList.add(u.CSSClasses.dayBtnWeekend),null!=(d=u.selectedHolidays)&&d.includes(n)&&c.classList.add(u.CSSClasses.dayBtnHoliday),null!=(l=u.selectedDates)&&l.includes(n)&&(c.classList.add(u.CSSClasses.dayBtnSelected),1<u.selectedDates.length)&&"multiple-ranged"===u.settings.selection.day&&(u.selectedDates[0]===n&&o.classList.add(u.CSSClasses.daySelectedFirst),u.selectedDates[u.selectedDates.length-1]===n&&o.classList.add(u.CSSClasses.daySelectedLast),u.selectedDates[0]!==n)&&u.selectedDates[u.selectedDates.length-1]!==n&&o.classList.add(u.CSSClasses.daySelectedIntermediate),a.append(h),e.actions.getDays&&e.actions.getDays(s,i,h,m,e)},b=A=>{const e=A.HTMLElement.querySelectorAll("."+A.CSSClasses.days),O=A.HTMLElement.querySelectorAll("."+A.CSSClasses.weekNumbers),B=new Date(A.selectedYear,A.selectedMonth,1);e.forEach((e,t)=>{var n,i,a=new Date(B),s=(a.setMonth(a.getMonth()+t),a.getMonth()),a=a.getFullYear(),l=new Date(a,s,1),r=new Date(a,s+1,0).getDate(),l=A.settings.iso8601?(0!==l.getDay()?l.getDay():7)-1:l.getDay();A.settings.selection.day&&e.classList.add(A.CSSClasses.daysSelecting),e.innerHTML="";{var d=A,o=e,c=a,u=s,h=l;let t=new Date(c,u,0).getDate()-(h-1);var m=0===u?c-1:c,g=0===u?12:u<10?"0"+u:u;for(let e=h;0<e;e--,t++){const u=m+`-${g}-`+t,h=V(u).getDay();I(d,c,o,t,h,u,!0,d.CSSClasses.dayBtnPrev)}}var p=A,v=e,y=r,f=a,w=s;for(let e=1;e<=y;e++){const y=new Date(f,w,e),_=$(y),F=y.getDay();I(p,f,v,e,F,_,!1,null)}var b=A,D=e,M=a,S=s,k=l,k=k+r,C=7*Math.ceil(k/7)-k,x=S+1===12?M+1:M,E=S+1===12?"01":S+2<10?"0"+(S+2):S+2;for(let e=1;e<=C;e++){const S=x+`-${E}-`+(e<10?"0"+e:String(e)),k=V(S).getDay();I(b,M,D,e,k,S,!0,b.CSSClasses.dayBtnNext)}var L=A,u=l,h=r,a=O[t],s=e;if(L.settings.visibility.weekNumbers){a.innerHTML="";var k=document.createElement("b"),T=(k.className=L.CSSClasses.weekNumbersTitle,k.innerText="#",a.append(k),document.createElement("div")),N=(T.className=L.CSSClasses.weekNumbersContent,a.append(T),document.createElement("button")),H=(N.type="button",N.className=L.CSSClasses.weekNumber,s.querySelectorAll("."+L.CSSClasses.day)),Y=Math.ceil((u+h)/7);for(let e=0;e<Y;e++)W(L,H,0===e?6:7*e,N,T)}i=e,(n=A).popups&&null!=(S=Object.entries(n.popups))&&S.forEach(([e,t])=>{var a=i,s=n.CSSClasses.dayPopup;(a=a.querySelector(`[data-calendar-day="${e}"]`))&&(null!=t&&t.modifier&&a.classList.add(...t.modifier.trim().split(" ")),null!=t)&&t.html&&(a.parentElement.innerHTML+=`<div class="${s}">${t.html}</div>`)})})},D=n=>{var e=null==(e=n.HTMLElement)?void 0:e.querySelectorAll("[data-calendar-selected-month]"),t=null==(t=n.HTMLElement)?void 0:t.querySelectorAll("[data-calendar-selected-year]");if(null!=e&&e[0]||null==t||!t[0]){const i=new Date(n.selectedYear,n.selectedMonth,1);null!=e&&e.forEach((e,t)=>{var a=n,s=i;s=new Date(s.setMonth(a.selectedMonth+t)).getMonth(),t=!1===a.settings.selection.month||"only-arrows"===a.settings.selection.month,e.tabIndex=t?-1:0,e.classList.toggle(a.CSSClasses.monthDisabled,t),e.setAttribute("data-calendar-selected-month",String(s)),e.innerText=a.locale.months[s]}),null!=t&&t.forEach((e,t)=>{var a=n,s=i;s=new Date(s.setFullYear(a.selectedYear,a.selectedMonth+t)).getFullYear(),t=!1===a.settings.selection.year||"only-arrows"===a.settings.selection.year,e.tabIndex=t?-1:0,e.classList.toggle(a.CSSClasses.yearDisabled,t),e.setAttribute("data-calendar-selected-year",String(s)),e.innerText=String(s)})}},m=(e,t)=>{const a=V($(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>a.setMonth(a.getMonth()-e.jumpMonths),next:()=>a.setMonth(a.getMonth()+e.jumpMonths)})[t](),[e.selectedMonth,e.selectedYear]=[a.getMonth(),a.getFullYear()],D(e),w(e),b(e)},K=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,ArrowPrev:e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,ControlTime:e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}"></div>`:"",Days:e=>`<div class="${e.CSSClasses.days}"></div>`,Month:e=>`<button type="button"class="${e.CSSClasses.month}"data-calendar-selected-month></button>`,Months:e=>`<div class="${e.CSSClasses.months}"></div>`,Week:e=>`<div class="${e.CSSClasses.week}"></div>`,WeekNumbers:e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}"></div>`:"",Year:e=>`<button type="button"class="${e.CSSClasses.year}"data-calendar-selected-year></button>`,Years:e=>`<div class="${e.CSSClasses.years}"></div>`},Symbol.toStringTag,{value:"Module"})),h=(a,e)=>e.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(e,t)=>{t=t.replace(/[/\s\n\t]/g,"");t=K[t];return t?t(a):""}).replace(/[\n\t]/g,""),M=(n,s)=>{const{HTMLElement:i,CSSClasses:l,DOMTemplates:e,type:t,currentType:a,correctMonths:r}=n,d=(e,t)=>{var a;s&&((a=i.querySelector("."+l.controls))&&i.removeChild(a),i.querySelector("."+l.grid).classList.add(l.gridDisabled),(a=s.closest("."+l.column)).classList.add(e),a.innerHTML=h(n,t))},o={default:()=>{i.classList.add(l.calendarDefault),i.classList.remove(l.calendarMonth,l.calendarYear),i.innerHTML=h(n,e.default)},multiple:()=>{var s;r&&(i.classList.add(l.calendarMultiple),i.classList.remove(l.calendarMonth,l.calendarYear),i.innerHTML=(s=n,h(n,e.multiple).replace(/<#Multiple>(.*?)<#\/Multiple>/g,(e,t)=>{let a="";for(let e=0;e<s.correctMonths;e++)a+=t;return a}).replace(/[\n\t]/g,"")))},month:()=>{"multiple"!==t?(i.classList.add(l.calendarMonth),i.classList.remove(l.calendarDefault,l.calendarYear),i.innerHTML=h(n,e.month)):d(l.columnMonth,e.month)},year:()=>{"multiple"!==t?(i.classList.add(l.calendarYear),i.classList.remove(l.calendarDefault,l.calendarMonth),i.innerHTML=h(n,e.year)):d(l.columnYear,e.year)}};i.classList.add(l.calendar),o[a]()},P=(e,t,a,s,n)=>{t=t.cloneNode(!1);return t.className=""+e.CSSClasses.yearsYear+(a===n?" "+e.CSSClasses.yearsYearSelected:s?" "+e.CSSClasses.yearsYearDisabled:""),t.dataset.calendarYear=String(n),t.title=String(n),t.innerText=String(n),s&&(t.tabIndex=-1),t},S=(t,e)=>{var a=null!=e&&e.dataset.calendarSelectedYear?Number(null==e?void 0:e.dataset.calendarSelectedYear):t.selectedYear,s=(t.currentType="year",M(t,e),D(t),w(t),t.HTMLElement.querySelector("."+t.CSSClasses.years));if(t.settings.selection.year&&s){s.classList.add(t.CSSClasses.yearsSelecting);var n="multiple"!==t.type||t.selectedYear===a?0:1,i=document.createElement("button");i.type="button";for(let e=t.viewYear-7;e<t.viewYear+8;e++){var l=e<t.dateMin.getFullYear()+n||e>t.dateMax.getFullYear(),l=P(t,i,a,l,e);s.append(l),t.actions.getYears&&t.actions.getYears(e,l,t)}}},k=e=>(""+e.charAt(0).toUpperCase()+e.substring(1,e.length)).replace(/\./,""),p=t=>{var e;return"multiple"===t.type&&0<(e=[...t.HTMLElement.querySelectorAll("."+t.CSSClasses.column)].findIndex(e=>e.classList.contains(""+t.CSSClasses.columnMonth)))?e:0},j=(e,t,a,s,n,i)=>{t=t.cloneNode(!1);return t.className=""+e.CSSClasses.monthsMonth+(a===i?" "+e.CSSClasses.monthsMonthSelected:n?" "+e.CSSClasses.monthsMonthDisabled:""),t.title=s,t.innerText=""+(e.settings.visibility.monthShort?s.substring(0,3):s),t.dataset.calendarMonth=String(i),n&&(t.tabIndex=-1),t},C=(a,e)=>{var t,s;const n=null!=e&&e.dataset.calendarSelectedMonth?Number(e.dataset.calendarSelectedMonth):a.selectedMonth,i=null==(t=null==e?void 0:e.closest("."+a.CSSClasses.column))?void 0:t.querySelector("."+a.CSSClasses.year),l=i?Number(i.dataset.calendarSelectedYear):a.selectedYear;a.currentType="month",M(a,e),D(a);var r=null==(s=a.HTMLElement)?void 0:s.querySelector("."+a.CSSClasses.months);if(a.settings.selection.month&&r){r.classList.add(a.CSSClasses.monthsSelecting);var d=1<a.jumpMonths?a.locale.months.map((e,t)=>n-a.jumpMonths*t).concat(a.locale.months.map((e,t)=>n+a.jumpMonths*t)).filter(e=>0<=e&&e<=12):Array.from(Array(12).keys()),o=document.createElement("button");o.type="button";for(let e=0;e<12;e++){const t=a.locale.months[e],s=e<a.dateMin.getMonth()+p(a)&&l<=a.dateMin.getFullYear()||e>a.dateMax.getMonth()+p(a)&&l>=a.dateMax.getFullYear()||e!==n&&!d.includes(e),i=j(a,o,n,t,s,e);r.append(i),a.actions.getMonths&&a.actions.getMonths(e,i,a)}}},x=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",E=(e,t,a)=>e.querySelector("."+t+(a?` input[name="${a}"]`:"")),L=(e,t,a)=>{e.addEventListener("mouseover",()=>t.classList.add(a)),e.addEventListener("mouseout",()=>t.classList.remove(a))},T=(e,t,a,s)=>{({hours:()=>{e.selectedHours=a},minutes:()=>{e.selectedMinutes=a}})[s](),e.selectedTime=e.selectedHours+":"+e.selectedMinutes+(e.selectedKeeping?" "+e.selectedKeeping:""),e.actions.changeTime&&e.actions.changeTime(t,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e)},N=(n,e,i,l,r,d)=>{e.addEventListener("input",e=>{var t=e.target,a=Number(t.value),s=a<10?"0"+a:""+a;"hours"!==r||12!==d?(i.value=s,T(n,e,s,r)):a<d&&0<a?(i.value=s,n.selectedKeeping="AM",l.innerText=n.selectedKeeping,T(n,e,s,r)):(0===a?(n.selectedKeeping="AM",l.innerText="AM"):(n.selectedKeeping="PM",l.innerText="PM"),i.value=o(t.value),T(n,e,o(t.value),r))})},H=(n,i,e,l,r,d)=>{e.addEventListener("change",e=>{var t=e.target,a=Number(t.value),s=a<10?"0"+a:""+a;"hours"===r&&12===d?t.value&&a<=d&&0<a?(t.value=s,i.value=x(s,n.selectedKeeping),T(n,e,s,r)):t.value&&a<24&&(d<a||0===a)?(0===a?(n.selectedKeeping="AM",l.innerText="AM"):(n.selectedKeeping="PM",l.innerText="PM"),t.value=o(t.value),i.value=s,T(n,e,o(t.value),r)):t.value=n.selectedHours:t.value&&a<=d&&0<=a?(t.value=s,i.value=s,T(n,e,s,r)):"hours"===r?t.value=n.selectedHours:"minutes"===r&&(t.value=n.selectedMinutes)})},R=(e,t,a,s)=>`<label class="${t}"><input type="text"name="${e}"maxlength="2"value="${a}"${s?"disabled":""}></label>`,q=(e,t,a,s,n,i)=>`<label class="${t}"><input type="range"name="${e}"min="${a}"max="${s}"step="${n}"value="${i}"></label>`,z=r=>{const d=[...r.locale.weekday];d[0]&&(r.settings.iso8601&&d.push(d.shift()),r.HTMLElement.querySelectorAll("."+r.CSSClasses.week).forEach(e=>{var t=r,a=e,s=d,n=document.createElement("b");a.innerHTML="";for(let e=0;e<s.length;e++){var i=s[e],l=n.cloneNode(!0);l.className=""+t.CSSClasses.weekDay,l.className=""+t.CSSClasses.weekDay+(t.settings.visibility.weekend&&t.settings.iso8601?5===e||6===e?" "+t.CSSClasses.weekDayWeekend:"":!t.settings.visibility.weekend||t.settings.iso8601||0!==e&&6!==e?"":" "+t.CSSClasses.weekDayWeekend),l.innerText=""+i,a.append(l)}}))},U=["light","dark","system"],i={value:!1,set:()=>{i.value=!0},check:()=>i.value},J=(a,s)=>U.find(e=>{var t;return"system"!==e&&(null==(t=a.getAttribute(s))?void 0:t.includes(e))}),Y=(e,t)=>{e.dataset.calendarTheme=t},G=(a,e)=>{var t=e;Y(a.HTMLElement,t.matches?"dark":"light"),"system"!==a.settings.visibility.theme||i.check()||(t=t=>{var e=document.querySelectorAll("."+a.CSSClasses.calendar);null!=e&&e.forEach(e=>Y(e,t.matches?"dark":"light"))},e.addEventListener?e.addEventListener("change",t):e.addListener(t),i.set())},v=e=>{var t,a,s,n,i,l,r,d,o,c,u,h={default:()=>{z(e),b(e)},multiple:()=>{z(e),b(e)},month:()=>C(e),year:()=>S(e)},m=e;if(!U.includes(m.settings.visibility.theme))throw new Error('Incorrect name of theme in "settings.visibility.theme".');"not all"===window.matchMedia("(prefers-color-scheme)").media?Y(m.HTMLElement,"light"):{light:()=>Y(m.HTMLElement,"light"),dark:()=>Y(m.HTMLElement,"dark"),system:()=>{var e,t,a,s,n,i,l,r;e=m,t=window.matchMedia("(prefers-color-scheme: dark)"),(r=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null)&&(a=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(e,t)=>t),s=J(r,a))?(Y(e.HTMLElement,s),n=e,i=r,l=a,new MutationObserver(t=>{for(let e=0;e<t.length;e++)if(t[e].attributeName===l){const t=J(i,l);t&&Y(n.HTMLElement,t);break}}).observe(i,{attributes:!0})):G(e,t)}}[m.settings.visibility.theme]();var g=e;if("define"!==g.settings.lang||!g.locale.weekday[6]||!g.locale.months[11]){if("define"===g.settings.lang)throw new Error('You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".');g.locale.weekday=[],g.locale.months=[];for(let e=0;e<7;e++){var p=g;var v=e;v=new Date(`1978-01-0${v+1}T00:00:00.000Z`).toLocaleString(p.settings.lang,{weekday:"short",timeZone:"UTC"});p.locale.weekday.push(k(v))}for(let e=0;e<12;e++){var y=g;var f=e;f=new Date(`1978-${f+1<=9?"0"+(f+1):f+1}-01T00:00:00.000Z`).toLocaleString(y.settings.lang,{month:"long",timeZone:"UTC"});y.locale.months.push(k(f))}}M(e),D(e),w(e),(u=(t=e).HTMLElement.querySelector("."+t.CSSClasses.time))&&(a=!0===t.settings.selection.time?12:t.settings.selection.time,s="range"===t.settings.selection.controlTime,[n,i]=[0,23],[o,c]=[0,59],u.innerHTML=`<div class="${t.CSSClasses.timeContent}">${R("hours",t.CSSClasses.timeHours,t.selectedHours,s)}${R("minutes",t.CSSClasses.timeMinutes,t.selectedMinutes,s)}${12===a?`<button type="button" class="${t.CSSClasses.timeKeeping}"${s?"disabled":""}>${t.selectedKeeping}</button>`:""}</div><div class="${t.CSSClasses.timeRanges}">${q("hours",t.CSSClasses.timeRange,n,i,t.settings.selection.stepHours,t.selectedKeeping?x(t.selectedHours,t.selectedKeeping):t.selectedHours)}${q("minutes",t.CSSClasses.timeRange,o,c,t.settings.selection.stepMinutes,t.selectedMinutes)}</div>`,s=t,n=u,i=24===(i=a)?23:i||12,o=E(n,s.CSSClasses.timeRange,"hours"),c=E(n,s.CSSClasses.timeRange,"minutes"),t=E(n,s.CSSClasses.timeHours,"hours"),u=E(n,s.CSSClasses.timeMinutes,"minutes"),n=n.querySelector("."+s.CSSClasses.timeKeeping),L(o,t,s.CSSClasses.isFocus),L(c,u,s.CSSClasses.isFocus),N(s,o,t,n,"hours",i),N(s,c,u,n,"minutes",0),H(s,o,t,n,"hours",i),H(s,c,u,n,"minutes",59),n)&&(l=s,d=o,(r=n).addEventListener("click",e=>{l.selectedKeeping=r.innerText.includes("AM")?"PM":"AM",r.innerText=l.selectedKeeping,d.value=x(l.selectedHours,l.selectedKeeping),T(l,e,l.selectedHours,"hours")})),h[e.currentType]()},y={self:null,rangeMin:void 0,rangeMax:void 0},Z=()=>{var e;if(null!=(e=y.self)&&e.HTMLElement){const t=y.self["CSSClasses"];y.self.HTMLElement.querySelectorAll("."+y.self.CSSClasses.dayBtnHover).forEach(e=>{e.classList.remove(y.self.CSSClasses.dayBtnHover),null!=(e=e.parentElement)&&e.classList.remove(t.dayHoverIntermediate,t.dayHoverFirst,t.dayHoverLast)})}},f=e=>{if(e.target&&null!=(t=y.self)&&t.selectedDates)if(e.target.closest("."+y.self.CSSClasses.days)){var t=e.target.closest("[data-calendar-day]");if(t){var e=t.dataset.calendarDay,t=V(y.self.selectedDates[0]),a=V(e),s=y.self.HTMLElement.querySelectorAll(`[data-calendar-day="${y.self.selectedDates[0]}"]`),e=y.self.HTMLElement.querySelectorAll(`[data-calendar-day="${e}"]`),[n,i]=t<a?[s,e]:[e,s],[e,l]=t<a?[t,a]:[a,t];Z();for(var r=new Date(e);r<=l;r.setDate(r.getDate()+1))((e,t,a)=>{var s;if(null!=(s=y.self)&&s.selectedDates){const n=$(e),i=y.self["CSSClasses"];null!=(s=y.self.rangeDisabled)&&s.includes(n)||(null!=(s=null==(e=y.self.HTMLElement)?void 0:e.querySelectorAll(`[data-calendar-day="${n}"]`))&&s.forEach(e=>{e.classList.add(i.dayBtnHover),null!=(e=e.parentElement)&&e.classList.add(i.dayHoverIntermediate)}),null!=t&&t.forEach(e=>{return null==(e=e.parentElement)?void 0:e.classList.add(i.dayHoverFirst)}),null!=a&&a.forEach(e=>{return null==(e=e.parentElement)?void 0:e.classList.add(i.dayHoverLast)}))}})(r,n,i)}}else Z()},_=e=>{y.self&&"Escape"===e.key&&(y.self.selectedDates=[],y.self.HTMLElement.removeEventListener("mousemove",f),document.removeEventListener("keydown",_),v(y.self))},X=(n,e)=>{if(e){const t=1===n.selectedDates.length&&n.selectedDates[0].includes(e);n.selectedDates=t&&!n.settings.selection.cancelableDay?[e,e]:t&&n.settings.selection.cancelableDay?[]:1<n.selectedDates.length?[e]:[...n.selectedDates,e],null!=(e=n.selectedDates)&&e.sort((e,t)=>+new Date(e)-+new Date(t))}n.settings.range.disableGaps&&(y.rangeMin=y.rangeMin||n.rangeMin,y.rangeMax=y.rangeMax||n.rangeMax),y.self=n;const t={set:()=>{var e;if((n.HTMLElement.addEventListener("mousemove",f),document.addEventListener("keydown",_),n.settings.range.disableGaps)&&(null!=(e=null==(e=y.self)?void 0:e.selectedDates)&&e[0]&&y.self.rangeDisabled&&!((null==(e=y.self.rangeDisabled)?void 0:e.length)<2))){const s=V(y.self.selectedDates[0]),[t,a]=y.self.rangeDisabled.map(e=>V(e)).reduce(([e,t],a)=>[s>=a?a:e,s<a&&null===t?a:t],[null,null]);t&&(y.self.rangeMin=$(new Date(t.setDate(t.getDate()+1)))),a&&(y.self.rangeMax=$(new Date(a.setDate(a.getDate()-1))))}},reset:()=>{var[e,t]=[n.selectedDates[0],n.selectedDates[n.selectedDates.length-1]];n.selectedDates=n.selectedDates[0]!==n.selectedDates[n.selectedDates.length-1]?d([e+":"+t]):[n.selectedDates[0],n.selectedDates[0]],n.HTMLElement.removeEventListener("mousemove",f),document.removeEventListener("keydown",_),n.settings.range.disableGaps&&y.self&&(y.self.rangeMin=y.rangeMin,y.self.rangeMax=y.rangeMax)}};t[1===n.selectedDates.length?"set":"reset"]()},Q=(e,t,a)=>{if(t.dataset.calendarDay){const s=t.dataset.calendarDay,n=t.classList.contains(e.CSSClasses.dayBtnSelected);n&&!e.settings.selection.cancelableDay||(e.selectedDates=n?e.selectedDates.filter(e=>e!==s):a?[...e.selectedDates,s]:[s])}},ee=(e,t,a,s,n)=>{var i=e.HTMLElement.querySelectorAll("."+e.CSSClasses.column),l=[...i].findIndex(e=>e.classList.contains(t)),i=Number(i[l].querySelector("."+a).getAttribute(n));return"month"===e.currentType&&0<=l?s-l:"year"===e.currentType&&e.selectedYear!==i?s-1:s},te=(e,t,a,s)=>{if(e.settings.selection[a]){const d=t.target,o=e=>d.closest("."+e),c=o(s.header),u=o(s.item),h=o(e.CSSClasses.grid),m=o(e.CSSClasses.column);var i,n,l,r;e.currentType!==a&&c?{year:()=>S(e,d),month:()=>C(e,d)}[a]():u?(i=e,n=t,l=s,r=u,t={year:()=>{var e,t;return null==(t=(e=i.actions).clickYear)?void 0:t.call(e,n,i)},month:()=>{var e,t;return null==(t=(e=i.actions).clickMonth)?void 0:t.call(e,n,i)}},{year:()=>{var e,t,a,s,n;"multiple"===i.type?(e=ee(i,i.CSSClasses.columnYear,i.CSSClasses.year,Number(r.dataset.calendarYear),"data-calendar-selected-year"),t=i.selectedMonth<i.dateMin.getMonth()&&e<=i.dateMin.getFullYear(),a=i.selectedMonth>i.dateMax.getMonth()&&e>=i.dateMax.getFullYear(),s=e<i.dateMin.getFullYear(),n=e>i.dateMax.getFullYear(),t||s?(i.selectedYear=i.dateMin.getFullYear(),i.selectedMonth=i.dateMin.getMonth()):a||n?(i.selectedYear=i.dateMax.getFullYear(),i.selectedMonth=i.dateMax.getMonth()):i.selectedYear=e):i.selectedYear=Number(r.dataset.calendarYear)},month:()=>{var e,t,a;"multiple"===i.type?(e=ee(i,i.CSSClasses.columnMonth,i.CSSClasses.month,Number(r.dataset.calendarMonth),"data-calendar-selected-month"),t=r.closest("."+l.column).querySelector("."+i.CSSClasses.year),i.selectedYear=Number(t.dataset.calendarSelectedYear),t=e<i.dateMin.getMonth()&&i.selectedYear<=i.dateMin.getFullYear(),a=e>i.dateMax.getMonth()&&i.selectedYear>=i.dateMax.getFullYear(),i.selectedMonth=t?i.dateMin.getMonth():a?i.dateMax.getMonth():e):i.selectedMonth=Number(r.dataset.calendarMonth)}}[s=a](),t[s](),i.currentType=i.type,v(i)):(e.currentType===a&&c||"multiple"===e.type&&e.currentType===a&&h&&!m)&&(e.currentType=e.type,v(e))}},ae=h=>{const e=e=>{s=h,(t=(a=e).target.closest("."+s.CSSClasses.arrow))&&(["default","multiple"].includes(s.currentType)?m(s,t.dataset.calendarArrow):"year"===s.currentType&&void 0!==s.viewYear&&(s.viewYear+={prev:-15,next:15}[t.dataset.calendarArrow],S(s,a.target)),s.actions.clickArrow)&&s.actions.clickArrow(a,s);var t=h,a=e;if(t.settings.visibility.weekNumbers&&t.actions.clickWeekNumber){var s=a.target.closest("."+t.CSSClasses.weekNumber),n=null==(n=t.HTMLElement)?void 0:n.querySelectorAll("[data-calendar-week-number]");if(s&&n){const l=Number(s.innerText),r=Number(s.dataset.calendarYearWeek),d=[...n].filter(e=>Number(e.dataset.calendarWeekNumber)===l);t.actions.clickWeekNumber(a,l,d,r,t)}}{var i=h;const o=(s=e).target,c=e=>o.closest("."+e),u=c(i.CSSClasses.dayBtn);i.settings.selection.day&&["single","multiple","multiple-ranged"].includes(i.settings.selection.day)&&u&&({single:()=>Q(i,u,!1),multiple:()=>Q(i,u,!0),"multiple-ranged":()=>X(i,u.dataset.calendarDay)}[i.settings.selection.day](),null!=(n=i.selectedDates)&&n.sort((e,t)=>+new Date(e)-+new Date(t)),i.actions.clickDay&&i.actions.clickDay(s,i),i.input&&i.HTMLInputElement&&i.HTMLElement&&i.actions.changeToInput&&i.actions.changeToInput(s,i),n=c(i.CSSClasses.dayBtnPrev),s=c(i.CSSClasses.dayBtnNext),{prev:()=>m(i,"prev"),next:()=>m(i,"next"),default:()=>b(i)}[n?"prev":s?"next":"default"]())}te(h,e,"month",{header:h.CSSClasses.month,item:h.CSSClasses.monthsMonth,column:h.CSSClasses.columnMonth}),te(h,e,"year",{header:h.CSSClasses.year,item:h.CSSClasses.yearsYear,column:h.CSSClasses.columnYear})};return h.HTMLElement.addEventListener("click",e),()=>h.HTMLElement.removeEventListener("click",e)},se=(e,{year:t,month:a,dates:s,holidays:n,time:i}={})=>{var l=r({},e.settings.selected);e.settings.selected.year=t?l.year:e.selectedYear,e.settings.selected.month=a?l.month:e.selectedMonth,e.settings.selected.holidays=n?l.holidays:e.selectedHolidays,e.settings.selected.time=i?l.time:e.selectedTime,e.settings.selected.dates="only-first"===s&&null!=(t=e.selectedDates)&&t[0]?[e.selectedDates[0]]:!0===s?l.dates:e.selectedDates,c(e),v(e),e.settings.selected=l,"multiple-ranged"===e.settings.selection.day&&s&&X(e)},F=(e,t,a,s)=>{var n={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},i=Array.isArray(a)?a[0]:"bottom",a=Array.isArray(a)?a[1]:a,s=(t.classList.add("bottom"===i?s.calendarToInputBottom:s.calendarToInputTop),e.getBoundingClientRect()),e=window.scrollX||document.documentElement.scrollLeft,l=window.scrollY||document.documentElement.scrollTop,l=s.top+l+n[i],i=s.left+e+n[a];Object.assign(t.style,{left:i+"px",top:l+"px"})};return class extends class{constructor(){var e;a(this,"isInit",!1),a(this,"input",!1),a(this,"type","default"),a(this,"months",2),a(this,"jumpMonths",1),a(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),a(this,"settings",{lang:"en",iso8601:!0,range:{min:this.date.min,max:this.date.max,disablePast:!1,disableGaps:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),a(this,"locale",{months:[],weekday:[]}),a(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),a(this,"popups",{}),a(this,"CSSClasses",r({},t)),a(this,"DOMTemplates",{default:`<div class="${(e=this.CSSClasses).header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div><#ControlTime />`,multiple:`<div class="${(e=this.CSSClasses).controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}"><#Multiple><div class="${e.column}"><div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,month:`<div class="${(e=this.CSSClasses).header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><div class="${e.content}"><#Months /></div></div>`,year:`<div class="${(e=this.CSSClasses).header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><div class="${e.content}"><#Years /></div></div>`}),a(this,"HTMLElement"),a(this,"HTMLOriginalElement"),a(this,"HTMLInputElement"),a(this,"rangeMin"),a(this,"rangeMax"),a(this,"rangeDisabled"),a(this,"rangeEnabled"),a(this,"selectedDates"),a(this,"selectedHolidays"),a(this,"selectedMonth"),a(this,"selectedYear"),a(this,"selectedHours"),a(this,"selectedMinutes"),a(this,"selectedKeeping"),a(this,"selectedTime"),a(this,"currentType"),a(this,"correctMonths"),a(this,"viewYear"),a(this,"dateMin"),a(this,"dateMax")}}{constructor(e,t){if(super(),a(this,"init",()=>{return(e=this).HTMLOriginalElement=e.HTMLElement.cloneNode(!0),e.isInit=!0,(e.input?a=>{let t=!0;const e=[],s=(a.HTMLInputElement=a.HTMLElement,()=>F(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses)),n=e=>{var t;!a||e.target===a.HTMLInputElement||null!=(t=a.HTMLElement)&&t.contains(e.target)||(a.HTMLInputElement&&a.HTMLElement&&a.hide(),window.removeEventListener("resize",s),document.removeEventListener("click",n,{capture:!0}))};return a.HTMLInputElement.addEventListener("click",()=>{t?e.push((()=>{const e=document.createElement("div");return e.className=`${a.CSSClasses.calendar} ${a.CSSClasses.calendarToInput} `+a.CSSClasses.calendarHidden,a.HTMLElement=e,document.body.append(a.HTMLElement),t=!1,setTimeout(()=>{F(a.HTMLInputElement,e,a.settings.visibility.positionToInput,a.CSSClasses),a.show()},0),se(a,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),a.actions.initCalendar&&a.actions.initCalendar(a),ae(a)})()):(F(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses),a.show()),window.addEventListener("resize",s),document.addEventListener("click",n,{capture:!0})}),()=>{e.forEach(e=>e())}}:(c(e),v(e),e.actions.initCalendar&&e.actions.initCalendar(e),ae))(e);var e}),a(this,"update",e=>{var[e,{year:t,month:a,dates:s,holidays:n,time:i}={}]=[this,e];if(!e.isInit)throw new Error(l);se(e,{year:t,month:a,dates:s,holidays:n,time:i}),e.actions.updateCalendar&&e.actions.updateCalendar(e)}),a(this,"destroy",()=>{var e,t=this;if(!t.isInit)throw new Error(l);t.input?(null!=(e=null==(e=t.HTMLElement)?void 0:e.parentElement)&&e.removeChild(t.HTMLElement),null!=(e=t.HTMLInputElement)&&e.replaceWith(t.HTMLOriginalElement),t.HTMLInputElement=void 0):null!=(e=t.HTMLElement)&&e.replaceWith(t.HTMLOriginalElement),t.HTMLElement=t.HTMLOriginalElement,t.actions.destroyCalendar&&t.actions.destroyCalendar(t)}),a(this,"show",()=>{var e;(e=this).currentType?(e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden),e.actions.showCalendar&&e.actions.showCalendar(e)):e.HTMLElement.click()}),a(this,"hide",()=>{var e;(e=this).currentType&&(e.HTMLElement.classList.add(e.CSSClasses.calendarHidden),e.actions.hideCalendar)&&e.actions.hideCalendar(e)}),this.HTMLElement="string"==typeof e?document.querySelector(e):e,!this.HTMLElement)throw new Error(e+" is not found, check the first argument passed to new VanillaCalendar.");if(t){const s=(t,a)=>{Object.keys(a).forEach(e=>{"object"!=typeof t[e]||"object"!=typeof a[e]||a[e]instanceof Date?t[e]=a[e]:s(t[e],a[e])})};s(this,t)}}}});